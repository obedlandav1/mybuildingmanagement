<!DOCTYPE html>
<html lang="en" class="light-style layout-menu-fixed" dir="ltr" data-theme="theme-default" data-assets-path=""
    data-template="vertical-menu-template-free">

<head th:replace="~{fragments/head :: head('Ingresos')}"></head>

<body>
    <!-- Layout wrapper -->
    <div class="layout-wrapper layout-content-navbar">
        <div class="layout-container">

            <!-- Sidebar -->
            <div th:replace="~{fragments/sidebar :: sidebar}"></div>
            <!-- / Sidebar -->

            <!-- Layout container -->
            <div class="layout-page">
                <!-- Navbar -->
                <div th:replace="~{fragments/navbar :: navbar}"></div>
                <!-- / Navbar -->

                <!-- Content wrapper -->
                <div class="content-wrapper">

                    <!-- Content -->
                    <div class="container-xxl flex-grow-1 container-p-y">
                        <div class="align-items-center d-flex justify-content-between mt-0 mb-4">
                            <h4 class="fw-bold py-0 mb-0">
                                <span class="text-muted fw-light">Registro /</span> Ingresos
                            </h4>

                            <div class="d-flex gap-2"> <!-- Agrupamos los botones -->
                                <a th:href="@{/income-create}">
                                    <button type="button" class="btn btn-primary">Crear</button>
                                </a>
                                <div class="btn-group">
                                    <button type="button" class="btn btn-primary dropdown-toggle"
                                        data-bs-toggle="dropdown" aria-expanded="false">
                                        Elegir periodo
                                    </button>
                                    <ul class="dropdown-menu">
                                        <li><a class="dropdown-item" href="javascript:void(0);">2025 01</a></li>
                                        <li><a class="dropdown-item" href="javascript:void(0);">2025 02</a></li>
                                        <li><a class="dropdown-item" href="javascript:void(0);">2025 03</a></li>
                                        <li><a class="dropdown-item" href="javascript:void(0);">2025 04</a></li>
                                        <li><a class="dropdown-item" href="javascript:void(0);">2025 05</a></li>
                                        <li><a class="dropdown-item" href="javascript:void(0);">2025 06</a></li>
                                        <li><a class="dropdown-item" href="javascript:void(0);">2025 07</a></li>
                                        <li><a class="dropdown-item" href="javascript:void(0);">2025 08</a></li>
                                        <li><a class="dropdown-item" href="javascript:void(0);">2025 09</a></li>
                                        <li><a class="dropdown-item" href="javascript:void(0);">2025 10</a></li>
                                        <li><a class="dropdown-item" href="javascript:void(0);">2025 11</a></li>
                                        <li><a class="dropdown-item" href="javascript:void(0);">2025 12</a></li>
                                    </ul>
                                </div>
                                <div class="btn-group">
                                    <button type="button" class="btn btn-primary dropdown-toggle"
                                        data-bs-toggle="dropdown" aria-expanded="false">
                                        Elegir Edificio
                                    </button>
                                    <ul class="dropdown-menu">
                                        <li><a class="dropdown-item" href="javascript:void(0);">Residencial Recuay</a>
                                        </li>
                                        <li><a class="dropdown-item" href="javascript:void(0);">Residencial Breña</a>
                                        </li>
                                        <li><a class="dropdown-item" href="javascript:void(0);">Edificio Mariano
                                                Pacheco</a></li>
                                        <li><a class="dropdown-item" href="javascript:void(0);">Residencial Mariano
                                                Cornejo</a></li>
                                        <li><a class="dropdown-item" href="javascript:void(0);">Edificio Alto Huaraz</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Basic Bootstrap Table -->
                        <div class="card">
                            <h5 class="card-header">Información del Ingreso</h5>
                            <div class="table-responsive text-nowrap">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>(S/)Monto a Pagar</th>
                                            <th>Propietario</th>
                                            <th>Método</th>
                                            <th>Periodo</th>
                                            <th>Comprobante de Pago</th>
                                            <th>Estado</th>
                                            <th>Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody class="table-border-bottom-0">
                                        <tr>
                                            <td><i class="fab fa-angular fa-lg text-danger me-3"></i>
                                                <strong>1200</strong>
                                            </td>
                                            <td>87654321</td>
                                            <td>Depósito</td>
                                            <td>09/25</td>
                                            <td>url.img</td>
                                            <td><span class="badge bg-label-primary me-1">Activo</span></td>
                                            <td>
                                                <div class="dropdown">
                                                    <button type="button" class="btn p-0 dropdown-toggle hide-arrow"
                                                        data-bs-toggle="dropdown">
                                                        <i class="bx bx-dots-vertical-rounded"></i>
                                                    </button>
                                                    <div class="dropdown-menu">
                                                        <a th:href="@{/income-edit}" class="dropdown-item"
                                                            href="javascript:void(0);"><i
                                                                class="bx bx-edit-alt me-1"></i> Editar</a>
                                                        <a href="javascript:void(0);" class="dropdown-item"
                                                            data-bs-toggle="modal" data-bs-target="#modalToggle">
                                                            <i class="bx bx-trash me-1"></i> Eliminar
                                                        </a>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><i class="fab fa-angular fa-lg text-danger me-3"></i>
                                                <strong>1400</strong>
                                            </td>
                                            <td>12345678</td>
                                            <td>Yape</td>
                                            <td>09/25</td>
                                            <td>url.img</td>
                                            <td><span class="badge bg-label-primary me-1">Activo</span></td>
                                            <td>
                                                <div class="dropdown">
                                                    <button type="button" class="btn p-0 dropdown-toggle hide-arrow"
                                                        data-bs-toggle="dropdown">
                                                        <i class="bx bx-dots-vertical-rounded"></i>
                                                    </button>
                                                    <div class="dropdown-menu">
                                                        <a th:href="@{/income-edit}" class="dropdown-item"
                                                            href="javascript:void(0);"><i
                                                                class="bx bx-edit-alt me-1"></i> Editar</a>
                                                        <a href="javascript:void(0);" class="dropdown-item"
                                                            data-bs-toggle="modal" data-bs-target="#modalToggle">
                                                            <i class="bx bx-trash me-1"></i> Eliminar
                                                        </a>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><i class="fab fa-angular fa-lg text-danger me-3"></i>
                                                <strong>1200</strong>
                                            </td>
                                            <td>85215632</td>
                                            <td>Depósito</td>
                                            <td>09/25</td>
                                            <td>url.img</td>
                                            <td><span class="badge bg-label-primary me-1">Activo</span></td>
                                            <td>
                                                <div class="dropdown">
                                                    <button type="button" class="btn p-0 dropdown-toggle hide-arrow"
                                                        data-bs-toggle="dropdown">
                                                        <i class="bx bx-dots-vertical-rounded"></i>
                                                    </button>
                                                    <div class="dropdown-menu">
                                                        <a th:href="@{/income-edit}" class="dropdown-item"
                                                            href="javascript:void(0);"><i
                                                                class="bx bx-edit-alt me-1"></i> Editar</a>
                                                        <a href="javascript:void(0);" class="dropdown-item"
                                                            data-bs-toggle="modal" data-bs-target="#modalToggle">
                                                            <i class="bx bx-trash me-1"></i> Eliminar
                                                        </a>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><i class="fab fa-angular fa-lg text-danger me-3"></i>
                                                <strong>500</strong>
                                            </td>
                                            <td>78905432</td>
                                            <td>Plin</td>
                                            <td>09/25</td>
                                            <td>url.img</td>
                                            <td><span class="badge bg-label-primary me-1">Activo</span></td>
                                            <td>
                                                <div class="dropdown">
                                                    <button type="button" class="btn p-0 dropdown-toggle hide-arrow"
                                                        data-bs-toggle="dropdown">
                                                        <i class="bx bx-dots-vertical-rounded"></i>
                                                    </button>
                                                    <div class="dropdown-menu">
                                                        <a th:href="@{/income-edit}" class="dropdown-item"
                                                            href="javascript:void(0);"><i
                                                                class="bx bx-edit-alt me-1"></i> Editar</a>
                                                        <a href="javascript:void(0);" class="dropdown-item"
                                                            data-bs-toggle="modal" data-bs-target="#modalToggle">
                                                            <i class="bx bx-trash me-1"></i> Eliminar
                                                        </a>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><i class="fab fa-angular fa-lg text-danger me-3"></i>
                                                <strong>2200</strong>
                                            </td>
                                            <td>10254632</td>
                                            <td>Depósito</td>
                                            <td>09/25</td>
                                            <td>url.img</td>
                                            <td><span class="badge bg-label-primary me-1">Activo</span></td>
                                            <td>
                                                <div class="dropdown">
                                                    <button type="button" class="btn p-0 dropdown-toggle hide-arrow"
                                                        data-bs-toggle="dropdown">
                                                        <i class="bx bx-dots-vertical-rounded"></i>
                                                    </button>
                                                    <div class="dropdown-menu">
                                                        <a th:href="@{/income-edit}" class="dropdown-item"
                                                            href="javascript:void(0);"><i
                                                                class="bx bx-edit-alt me-1"></i> Editar</a>
                                                        <a href="javascript:void(0);" class="dropdown-item"
                                                            data-bs-toggle="modal" data-bs-target="#modalToggle">
                                                            <i class="bx bx-trash me-1"></i> Eliminar
                                                        </a>
                                                    </div>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <!--/ Basic Bootstrap Table -->

                        <!-- Toggle Between Modals -->
                        <div class="col-lg-4 col-md-6">
                            <div class="mt-3">
                                <!-- Modal 1-->
                                <div class="modal fade" id="modalToggle" aria-labelledby="modalToggleLabel"
                                    tabindex="-1" style="display: none" aria-hidden="true">
                                    <div class="modal-dialog modal-dialog-centered">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h5 class="modal-title" id="modalToggleLabel">Eliminar Ingreso</h5>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                    aria-label="Close"></button>
                                            </div>
                                            <div class="modal-body">¿Desea eliminar el Ingreso? Esta acción no se puede
                                                deshacer</div>
                                            <div class="modal-footer">
                                                <button class="btn btn-primary" data-bs-target="#modalToggle2"
                                                    data-bs-toggle="modal" data-bs-dismiss="modal">
                                                    Eliminar
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- Modal 2-->
                                <div class="modal fade" id="modalToggle2" aria-hidden="true"
                                    aria-labelledby="modalToggleLabel2" tabindex="-1">
                                    <div class="modal-dialog modal-dialog-centered">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h5 class="modal-title" id="modalToggleLabel2">¡Atención!</h5>
                                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                    aria-label="Close"></button>
                                            </div>
                                            <div class="modal-body">Opción deshabilitada.</div>
                                            <div class="modal-footer">
                                                <button class="btn btn-primary" data-bs-target="#modalToggle"
                                                    data-bs-toggle="modal" data-bs-dismiss="modal">
                                                    Cerrar
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- / Toggle Between Modals -->

                    </div>
                    <!-- / Content -->

                    <!-- Footer -->
                    <div th:replace="~{fragments/footer :: footer}"></div>
                    <!-- / Footer -->

                    <div class="content-backdrop fade"></div>
                </div>
                <!-- Content wrapper -->
            </div>
            <!-- / Layout page -->
        </div>

        <!-- Overlay -->
        <div class="layout-overlay layout-menu-toggle"></div>
    </div>

    <!-- Core JS -->
    <!-- build:js assets/vendor/js/core.js -->
    <script th:src="@{/vendor/libs/jquery/jquery.js}"></script>
    <script th:src="@{/vendor/libs/popper/popper.js}"></script>
    <script th:src="@{/vendor/js/bootstrap.js}"></script>
    <script th:src="@{/vendor/libs/perfect-scrollbar/perfect-scrollbar.js}"></script>

    <script th:src="@{/vendor/js/menu.js}"></script>
    <!-- endbuild -->

    <!-- Vendors JS -->
    <script th:src="@{/vendor/libs/apex-charts/apexcharts.js}"></script>

    <!-- Main JS -->
    <script th:src="@{/js/main-app.js}"></script>

    <!-- Page JS -->
    <script th:src="@{/js/dashboards-analytics.js}"></script>

    <!-- Place this tag in your head or just before your close body tag. -->
    <script async defer src="https://buttons.github.io/buttons.js"></script>

    <script>
        new Vue({
            el: "#app",
            data: {
                entidades: [],
                entidad: [],
                nombres: "Dajana"
            },
            methods: {
                listar: function () {
                    this.$http.get('/api/alumno?nombres=' + this.nombres).then(response => {
                        this.entidades = response.data;
                    });
                },
                buscar: function () {
                    this.listar();
                },
                nuevo: function () {
                    this.entidad = {
                        id: 0,
                        nombres: "",
                        apellidos: ""
                    };
                    $("#mdlEntidad").modal("show");
                },
                editar: function (id) {
                    this.$http.get('/api/alumno/' + id).then(response => {
                        this.entidad = response.data;
                        $("#mdlEntidad").modal("show");
                    });
                },
                guardar: function () {
                    this.$http.post('/api/alumno', this.entidad).then(response => {
                        this.listar();
                        $("#mdlEntidad").modal("hide");
                    });
                },
                actualizar: function () {
                    this.$http.put('/api/alumno/' + this.entidad.id, this.entidad).then(response => {
                        this.listar();
                        $("#mdlEntidad").modal("hide");
                    });
                },
                eliminar: function (id) {
                    this.entidad.id = id;
                    $("#mdlEliminar").modal("show");
                },
                confimareliminacion: function () {
                    this.$http.delete('/api/alumno/' + this.entidad.id).then(response => {
                        this.listar();
                        $("#mdlEliminar").modal("hide");
                    });
                }
            },
            mounted: function () {
                this.listar();
            }
        });
    </script>
</body>

</html>